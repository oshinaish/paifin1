<main class="flex-1 grid grid-cols-1 lg:grid-cols-2 h-[calc(100vh-68px)]">

    <section class="lg:col-span-1 bg-card p-6 overflow-y-auto">
        <h2 class="text-2xl font-bold text-textdark font-albert_sans mb-6">PaiFinance Strategy Calculator</h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
            <div>
                <div class="flex items-center justify-between">
                    <label for="loanAmount" class="block text-sm font-medium text-textlight">Loan Amount</label>
                    <div class="w-[130px] h-9 p-2 rounded-md text-base font-bold bg-input_box_fill bg-opacity-10 text-input_text_color text-right shadow-custom-input flex items-center justify-end font-albert_sans">
                        <span class="text-sm mr-1">₹</span>
                        <input type="number" id="loanAmount" value="5000000" min="100000" max="50000000" step="100000" class="w-full bg-transparent border-none focus:ring-0 text-input_text_color text-right p-0 m-0 font-albert_sans font-bold text-base">
                    </div>
                </div>
                <input type="range" id="loanAmountSlider" value="5000000" min="100000" max="50000000" step="100000" class="w-full mt-2">
            </div>

            <div>
                <div class="flex items-center justify-between">
                    <label for="monthlyBudget" class="block text-sm font-medium text-textlight">Monthly Budget</label>
                    <div class="w-[130px] h-9 p-2 rounded-md text-base font-bold bg-input_box_fill bg-opacity-10 text-input_text_color text-right shadow-custom-input flex items-center justify-end font-albert_sans">
                         <span class="text-sm mr-1">₹</span>
                        <input type="number" id="monthlyBudget" value="70000" min="10000" max="1000000" step="1000" class="w-full bg-transparent border-none focus:ring-0 text-input_text_color text-right p-0 m-0 font-albert_sans font-bold text-base">
                    </div>
                </div>
                <input type="range" id="monthlyBudgetSlider" value="70000" min="10000" max="1000000" step="1000" class="w-full mt-2">
            </div>
        </div>

        <div class="mt-8 pt-6 border-t border-gray-200">
            <h3 class="text-lg font-semibold text-center text-textdark mb-4">What is Your Primary Goal?</h3>
            
            <div class="flex flex-wrap justify-center gap-4 mb-6">
                <button type="button" id="btnPlanner" data-goal="planner" class="goal-button selected flex flex-col items-center justify-center py-2 px-4 rounded-lg cursor-pointer transition-all duration-200 text-sm font-bold text-center shadow-md font-albert_sans">
                    Manual<br>Planner
                </button>
                <button type="button" id="btnMinTime" data-goal="min-time" class="goal-button flex flex-col items-center justify-center py-2 px-4 rounded-lg cursor-pointer transition-all duration-200 text-sm font-bold text-center shadow-md font-albert_sans">
                    Minimum Time to<br>Offset Interest
                </button>
                <button type="button" id="btnOptimalStrategy" data-goal="optimal-strategy" class="goal-button flex flex-col items-center justify-center py-2 px-4 rounded-lg cursor-pointer transition-all duration-200 text-sm font-bold text-center shadow-md font-albert_sans">
                    Find Optimal<br>Strategy
                </button>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-6">
                 <div>
                    <div class="flex items-center justify-between">
                        <label for="loanInterestRateDisplay" class="block text-sm font-medium text-textlight">Loan Interest Rate</label>
                        <div class="w-[80px] h-9 p-2 rounded-md text-base font-bold bg-input_box_fill bg-opacity-10 text-input_text_color text-right shadow-custom-input flex items-center justify-end font-albert_sans">
                            <input type="number" id="loanInterestRateDisplay" value="8.5" min="1" max="20" step="0.1" class="w-full bg-transparent border-none focus:ring-0 text-input_text_color text-right p-0 m-0 font-albert_sans font-bold text-base">
                            <span class="font-normal text-input_text_color text-sm ml-1">%</span>
                        </div>
                    </div>
                    <input type="range" id="loanInterestRateSlider" value="8.5" min="1" max="20" step="0.1" class="w-full mt-2">
                </div>
                <div>
                    <div class="flex items-center justify-between">
                        <label for="investmentRateDisplay" class="block text-sm font-medium text-textlight">Investment Return Rate</label>
                        <div class="w-[80px] h-9 p-2 rounded-md text-base font-bold bg-input_box_fill bg-opacity-10 text-input_text_color text-right shadow-custom-input flex items-center justify-end font-albert_sans">
                            <input type="number" id="investmentRateDisplay" value="12" min="1" max="30" step="0.1" class="w-full bg-transparent border-none focus:ring-0 text-input_text_color text-right p-0 m-0 font-albert_sans font-bold text-base">
                            <span class="font-normal text-input_text_color text-sm ml-1">%</span>
                        </div>
                    </div>
                    <input type="range" id="investmentRateSlider" value="12" min="1" max="30" step="0.1" class="w-full mt-2">
                </div>
                 <div id="loanTenureContainer">
                    <div class="flex items-center justify-between">
                        <label for="loanTenureDisplay" class="block text-sm font-medium text-textlight">Loan Tenure</label>
                        <div class="w-[80px] h-9 p-2 rounded-md text-base font-bold bg-input_box_fill bg-opacity-10 text-input_text_color text-right shadow-custom-input flex items-center justify-end font-albert_sans">
                            <input type="number" id="loanTenureDisplay" value="30" min="1" max="30" step="1" class="w-full bg-transparent border-none focus:ring-0 text-input_text_color text-right p-0 m-0 font-albert_sans font-bold text-base">
                            <span class="font-normal text-input_text_color text-sm ml-1">Yr</span>
                        </div>
                    </div>
                    <input type="range" id="loanTenureSlider" value="30" min="1" max="30" step="1" class="w-full mt-2">
                </div>
                 <div id="investmentTenureContainer">
                    <div class="flex items-center justify-between">
                        <label for="investmentTenureDisplay" class="block text-sm font-medium text-textlight">Investment Tenure</label>
                        <div class="w-[80px] h-9 p-2 rounded-md text-base font-bold bg-input_box_fill bg-opacity-10 text-input_text_color text-right shadow-custom-input flex items-center justify-end font-albert_sans">
                            <input type="number" id="investmentTenureDisplay" value="30" min="1" max="30" step="1" class="w-full bg-transparent border-none focus:ring-0 text-input_text_color text-right p-0 m-0 font-albert_sans font-bold text-base">
                            <span class="font-normal text-input_text_color text-sm ml-1">Yr</span>
                        </div>
                    </div>
                    <input type="range" id="investmentTenureSlider" value="30" min="1" max="30" step="1" class="w-full mt-2">
                </div>
            </div>
        </div>
    </section>

    <section class="lg:col-span-1 bg-background p-6 overflow-y-auto">
        <h2 class="text-2xl font-bold text-textdark font-albert_sans mb-6">Your Strategy & Results</h2>

        <div id="resultsDisplay" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <div class="bg-card p-4 rounded-lg shadow-default">
                <h3 class="text-sm font-semibold text-textlight mb-2">Monthly EMI</h3>
                <p id="emiResult" class="text-2xl font-bold text-primary">₹ 0</p>
            </div>
             <div class="bg-card p-4 rounded-lg shadow-default">
                <h3 class="text-sm font-semibold text-textlight mb-2">Monthly Investment</h3>
                <p id="monthlyInvestmentResult" class="text-2xl font-bold text-success">₹ 0</p>
            </div>
            </div>

        <div class="bg-card p-4 rounded-lg shadow-default">
             <h3 class="text-lg font-semibold text-textdark mb-3 text-center">Monthly Budget Allocation</h3>
            <div class="min-h-[250px] flex items-center justify-center relative">
                <canvas id="monthlyBudgetChart"></canvas>
                <div id="monthlyBudgetChartMessage" class="absolute text-center text-textlight">
                    Your budget breakdown will appear here.
                </div>
            </div>
        </div>

        <div id="detailedInsightsContainer" class="bg-card p-4 rounded-lg shadow-default mt-6 hidden">
             <h3 class="text-lg font-semibold text-textdark mb-3">Detailed Insights</h3>
             <div id="detailedInsights" class="text-textlight leading-relaxed">
                </div>
        </div>
    </section>
</main>
